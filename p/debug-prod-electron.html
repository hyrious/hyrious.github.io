<!DOCTYPE html><html lang="zh-Hans-CN"><head><meta charset="UTF-8"><title>Debug 生产环境的 Electron 应用</title><meta name="author" content="hyrious"><meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><link rel="alternate" href="/feed.xml" type="application/rss+xml" title="hyrious.log"><link rel="stylesheet" crossorigin href="/i/index-Bv3Y4ziu.css"></head><body class="post"><h2>Debug 生产环境的 Electron 应用</h2><address>最后更新于 <time>2024-03-28</time></address><style>.μ0{color:#24292e;background-color:#fff}.μ1{color:#24292e}.μ2{color:#6f42c1}@media(prefers-color-scheme:dark){.μ0{color:#e1e4e8;background-color:#24292e}.μ1{color:#e1e4e8}.μ2{color:#b392f0}}</style><p>首先启动应用，在任务管理器 / 活动监视器里找到该应用主进程的 PID，注意只有不带 Helper 后缀的才是主进程。</p><p>然后用 Node.js 往这个进程发送 <code>SIGUSR1</code> 信号：</p><pre class="shiki shiki-themes github-light github-dark μ0" tabindex="0"><code><span class="line"><span class="μ1">process.</span><span class="μ2">_debugProcess</span><span class="μ1">(pid)</span></span></code></pre><p>然后 Chrome 打开 <code>chrome://inspect</code> 就可以开始调试了。</p><p>当然开发者还是可以针对特定信号做防御的，比如 NTQQ 就会直接退出。</p><p>不过我还是建议就算是生产环境也保留开发者工具选项。</p><footer><p><a href="http://creativecommons.org/publicdomain/zero/1.0/">CC0</a> 2024 @ hyrious</p></footer></body></html>